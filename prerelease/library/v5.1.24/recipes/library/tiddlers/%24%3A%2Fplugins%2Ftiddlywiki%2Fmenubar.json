{"title":"$:/plugins/tiddlywiki/menubar","name":"Menu Bar","description":"Menu Bar","list":"readme config","version":"5.1.24-prerelease","plugin-type":"plugin","dependents":"","type":"application/json","text":"{\n    \"tiddlers\": {\n        \"$:/config/DefaultColourMappings/menubar-foreground\": {\n            \"title\": \"$:/config/DefaultColourMappings/menubar-foreground\",\n            \"text\": \"#fff\"\n        },\n        \"$:/config/DefaultColourMappings/menubar-background\": {\n            \"title\": \"$:/config/DefaultColourMappings/menubar-background\",\n            \"text\": \"#5778d8\"\n        },\n        \"$:/config/plugins/menubar/MenuItems/Visibility/$:/plugins/tiddlywiki/menubar/items/pagecontrols\": {\n            \"title\": \"$:/config/plugins/menubar/MenuItems/Visibility/$:/plugins/tiddlywiki/menubar/items/pagecontrols\",\n            \"text\": \"hide\"\n        },\n        \"$:/config/plugins/menubar/MenuItems/Visibility/$:/plugins/tiddlywiki/menubar/items/server\": {\n            \"title\": \"$:/config/plugins/menubar/MenuItems/Visibility/$:/plugins/tiddlywiki/menubar/items/server\",\n            \"text\": \"hide\"\n        },\n        \"$:/config/plugins/menubar/MenuItems/Visibility/$:/plugins/tiddlywiki/menubar/items/sidebar\": {\n            \"title\": \"$:/config/plugins/menubar/MenuItems/Visibility/$:/plugins/tiddlywiki/menubar/items/sidebar\",\n            \"text\": \"hide\"\n        },\n        \"$:/config/plugins/menubar/TableOfContents/Tag\": {\n            \"title\": \"$:/config/plugins/menubar/TableOfContents/Tag\",\n            \"text\": \"TableOfContents\"\n        },\n        \"$:/config/plugins/menubar/breakpoint\": {\n            \"title\": \"$:/config/plugins/menubar/breakpoint\",\n            \"text\": \"620px\"\n        },\n        \"$:/plugins/tiddlywiki/menubar/config\": {\n            \"title\": \"$:/plugins/tiddlywiki/menubar/config\",\n            \"tags\": \"$:/tags/ControlPanel/Toolbars\",\n            \"caption\": \"Menu Bar\",\n            \"text\": \"\\\\define config-base() $:/config/plugins/menubar/MenuItems/Visibility/\\n\\n! Menu Bar Configuration\\n\\n!! Menu Items\\n\\nSelect which menu items will be shown. You can also drag items to reorder them.\\n\\n<$set name=\\\"tv-config-toolbar-icons\\\" value=\\\"yes\\\">\\n\\n<$set name=\\\"tv-config-toolbar-text\\\" value=\\\"yes\\\">\\n\\n<$macrocall $name=\\\"list-tagged-draggable\\\" tag=\\\"$:/tags/MenuBar\\\" itemTemplate=\\\"$:/core/ui/ControlPanel/Toolbars/ItemTemplate\\\"/>\\n\\n</$set>\\n\\n</$set>\\n\\n!! Breakpoint Position\\n\\nThe breakpoint position between narrow and wide screens. Should include CSS units (eg. `400px`).\\n\\n<$edit-text tiddler=\\\"$:/config/plugins/menubar/breakpoint\\\" default=\\\"\\\" tag=\\\"input\\\"/>\\n\\n!! Contents Tag\\n\\nThe tag for the ~TableOfContents used in the Contents dropdown\\n\\n<$edit-text tiddler=\\\"$:/config/plugins/menubar/TableOfContents/Tag\\\" default=\\\"\\\" tag=\\\"input\\\"/>\\n\\n!! Menu Bar Colours\\n\\nTo change the colour of the menu bar, define the colours `menubar-foreground` and `menubar-background` in the currently selected palette\\n\"\n        },\n        \"$:/plugins/tiddlywiki/menubar/items/contents\": {\n            \"title\": \"$:/plugins/tiddlywiki/menubar/items/contents\",\n            \"caption\": \"Contents\",\n            \"description\": \"Table of Contents\",\n            \"is-dropdown\": \"yes\",\n            \"tags\": \"$:/tags/MenuBar\",\n            \"text\": \"<div class=\\\"tc-table-of-contents\\\">\\n\\n<$macrocall $name=\\\"toc-selective-expandable\\\" tag={{$:/config/plugins/menubar/TableOfContents/Tag}}/>\\n\\n</div>\\n\"\n        },\n        \"$:/plugins/tiddlywiki/menubar/items/hamburger\": {\n            \"title\": \"$:/plugins/tiddlywiki/menubar/items/hamburger\",\n            \"tags\": \"$:/tags/MenuBar\",\n            \"caption\": \"Hamburger\",\n            \"description\": \"Show the full menu bar on a narrow screen\",\n            \"custom-menu-content\": \"{{$:/plugins/tiddlywiki/menubar/items/hamburger}}\",\n            \"show-when\": \"narrow\",\n            \"text\": \"<$list filter=\\\"[[$:/state/popup/menubar/hamburger]get[text]else[no]match[no]]\\\">\\n<$button set=\\\"$:/state/popup/menubar/hamburger\\\" setTo=\\\"yes\\\">\\n{{$:/core/images/menu-button}}\\n</$button>\\n</$list>\\n<$list filter=\\\"[[$:/state/popup/menubar/hamburger]get[text]else[no]match[yes]]\\\">\\n<$button set=\\\"$:/state/popup/menubar/hamburger\\\" setTo=\\\"no\\\">\\n{{$:/core/images/close-button}}\\n</$button>\\n</$list>\\n\"\n        },\n        \"$:/plugins/tiddlywiki/menubar/items/pagecontrols\": {\n            \"title\": \"$:/plugins/tiddlywiki/menubar/items/pagecontrols\",\n            \"tags\": \"$:/tags/MenuBar\",\n            \"description\": \"Page controls from the sidebar\",\n            \"caption\": \"Page controls\",\n            \"custom-menu-content\": \"<$transclude tiddler=\\\"$:/plugins/tiddlywiki/menubar/items/pagecontrols\\\" mode=\\\"inline\\\"/>\",\n            \"text\": \"\\\\whitespace trim\\n\\\\define config-title()\\n$:/config/PageControlButtons/Visibility/$(listItem)$\\n\\\\end\\n<$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/PageControls]!has[draft.of]]\\\" variable=\\\"listItem\\\">\\n<$set name=\\\"hidden\\\" value=<<config-title>>>\\n<$list filter=\\\"[<hidden>!text[hide]]\\\" storyview=\\\"pop\\\" variable=\\\"ignore\\\">\\n<$set name=\\\"tv-config-toolbar-class\\\" filter=\\\"[<tv-config-toolbar-class>] [<listItem>encodeuricomponent[]addprefix[tc-btn-]]\\\">\\n<$transclude tiddler=<<listItem>> mode=\\\"inline\\\"/>\\n</$set>\\n</$list>\\n</$set>\\n</$list>\\n\"\n        },\n        \"$:/plugins/tiddlywiki/menubar/items/search\": {\n            \"title\": \"$:/plugins/tiddlywiki/menubar/items/search\",\n            \"custom-menu-content\": \"{{$:/plugins/tiddlywiki/menubar/items/search}}\",\n            \"description\": \"Search\",\n            \"caption\": \"Search\",\n            \"tags\": \"$:/tags/MenuBar\",\n            \"text\": \"\\\\define cancel-search-actions()\\n<$set name=\\\"userInput\\\" value={{{ [<__storeTitle__>get[text]] }}}>\\n<$list filter=\\\"[<__tiddler__>get[text]!match<userInput>]\\\" emptyMessage=\\\"\\\"\\\"<$action-deletetiddler $filter=\\\"[<__storeTitle__>] [<__tiddler__>] [<__selectionStateTitle__>]\\\"/>\\\"\\\"\\\">\\n<$action-setfield $tiddler=<<__tiddler__>> text=<<userInput>>/><$action-setfield $tiddler=<<__refreshTitle__>> text=\\\"yes\\\"/>\\n</$list>\\n</$set>\\n\\\\end\\n\\n\\\\define input-accept-actions() <$list filter=\\\"[{$:/config/Search/NavigateOnEnter/enable}match[yes]]\\\" emptyMessage=\\\"\\\"\\\"<$list filter=\\\"[<__tiddler__>get[text]!is[missing]] ~[<__tiddler__>get[text]is[shadow]]\\\"><$action-navigate $to={{{ [<__tiddler__>get[text]] }}}/></$list>\\\"\\\"\\\"><$action-navigate $to={{{ [<__tiddler__>get[text]] }}}/></$list>\\n\\n\\\\define input-accept-variant-actions() <$list filter=\\\"[{$:/config/Search/NavigateOnEnter/enable}match[yes]]\\\" emptyMessage=\\\"\\\"\\\"<$list filter=\\\"[<__tiddler__>get[text]!is[missing]] ~[<__tiddler__>get[text]is[shadow]]\\\"><$list filter=\\\"[<__tiddler__>get[text]minlength[1]]\\\"><$action-sendmessage $message=\\\"tm-edit-tiddler\\\" $param={{{  [<__tiddler__>get[text]] }}}/></$list></$list>\\\"\\\"\\\"><$list filter=\\\"[<__tiddler__>get[text]minlength[1]]\\\"><$action-sendmessage $message=\\\"tm-edit-tiddler\\\" $param={{{  [<__tiddler__>get[text]] }}}/></$list></$list>\\n\\n\\\\define set-next-input-tab(beforeafter:\\\"after\\\") <$macrocall $name=\\\"change-input-tab\\\" stateTitle=\\\"$:/state/tab/search-results/sidebar\\\" tag=\\\"$:/tags/SearchResults\\\" beforeafter=\\\"$beforeafter$\\\" defaultState={{$:/config/SearchResults/Default}} actions=\\\"\\\"\\\"<$action-setfield $tiddler=\\\"$:/state/search/currentTab\\\" text=<<nextTab>>/>\\\"\\\"\\\"/>\\n\\n\\\\whitespace trim\\n<$vars searchTiddler=\\\"$:/temp/menubarsearch/input\\\" searchListState=<<qualify \\\"$:/state/search-list/selected-item\\\">>>\\n<span style=\\\"margin: 0 0.5em;\\\">\\n<$keyboard key=\\\"((input-tab-right))\\\" actions=<<set-next-input-tab>>>\\n<$keyboard key=\\\"((input-tab-left))\\\" actions=<<set-next-input-tab \\\"before\\\">>>\\n<$macrocall $name=\\\"keyboard-driven-input\\\" tiddler=\\\"$:/temp/menubarsearch\\\" storeTitle=<<searchTiddler>> selectionStateTitle=<<searchListState>> \\n\\t\\trefreshTitle=\\\"$:/temp/menubarsearch/refresh\\\" tag=\\\"input\\\" type=\\\"search\\\" focusPopup=\\\"$:/state/popup/menubar-search-dropdown\\\" \\n\\t\\tclass=\\\"tc-popup-handle tc-menu-show-when-wide\\\" placeholder=\\\"Search...\\\" default=\\\"\\\" cancelPopups=\\\"yes\\\" \\n\\t\\tinputAcceptActions=<<input-accept-actions>> inputAcceptVariantActions=<<input-accept-variant-actions>> inputCancelActions=<<cancel-search-actions>> \\n\\t\\tfilterMinLength={{$:/config/Search/MinLength}} configTiddlerFilter=\\\"[[$:/state/search/currentTab]!is[missing]get[text]] ~[{$:/config/SearchResults/Default}]\\\" />\\n</$keyboard>\\n</$keyboard>\\n</span>\\n<$reveal tag=\\\"div\\\" class=\\\"tc-block-dropdown-wrapper\\\" state=\\\"$:/state/popup/menubar-search-dropdown\\\" type=\\\"nomatch\\\" text=\\\"\\\" default=\\\"\\\">\\n\\n<div  class=\\\"tc-block-dropdown tc-search-drop-down\\\">\\n\\n<$list filter=\\\"[<searchTiddler>get[text]minlength[1]]\\\" emptyMessage=\\\"\\\"\\\"<div class=\\\"tc-search-results\\\">Type your search terms</div>\\\"\\\"\\\" variable=\\\"ignore\\\">\\n\\n<$list filter=\\\"[<searchTiddler>get[text]minlength{$:/config/Search/MinLength}limit[1]]\\\" emptyMessage=\\\"\\\"\\\"<div class=\\\"tc-search-results\\\">{{$:/language/Search/Search/TooShort}}</div>\\\"\\\"\\\" variable=\\\"listItem\\\">\\n\\n<$vars configTiddler={{{ [[$:/state/search/currentTab]!is[missing]get[text]] ~[{$:/config/SearchResults/Default}] }}} userInput={{{ [<searchTiddler>get[text]] }}}>\\n\\n{{$:/core/ui/SearchResults}}\\n\\n</$vars>\\n\\n</$list>\\n\\n</$list>\\n\\n</div>\\n\\n</$reveal>\\n\\n</$vars>\\n\"\n        },\n        \"$:/plugins/tiddlywiki/menubar/items/server\": {\n            \"title\": \"$:/plugins/tiddlywiki/menubar/items/server\",\n            \"tags\": \"$:/tags/MenuBar\",\n            \"description\": \"Server options\",\n            \"caption\": \"Server\",\n            \"custom-menu-content\": \"<$transclude tiddler=\\\"$:/plugins/tiddlywiki/menubar/items/server\\\" mode=\\\"inline\\\"/>\",\n            \"text\": \"<$list filter=\\\"[[$:/status/IsLoggedIn]get[text]else[no]match[yes]]\\\" variable=\\\"ignore\\\">\\n<$transclude tiddler=\\\"$:/core/ui/Buttons/save-wiki\\\" mode=\\\"inline\\\"/>\\n</$list>\\n<$list filter=\\\"[[$:/status/IsLoggedIn]get[text]else[no]match[no]]\\\" variable=\\\"ignore\\\">\\n<$button message=\\\"tm-login\\\">\\nLogin\\n</$button>\\n</$list>\\n\"\n        },\n        \"$:/plugins/tiddlywiki/menubar/items/sidebar\": {\n            \"title\": \"$:/plugins/tiddlywiki/menubar/items/sidebar\",\n            \"caption\": \"Sidebar\",\n            \"description\": \"Sidebar\",\n            \"is-dropdown\": \"yes\",\n            \"tags\": \"$:/tags/MenuBar\",\n            \"text\": \"<$scrollable fallthrough=\\\"none\\\" class=\\\"tc-popup-keep tc-menubar-dropdown-sidebar\\\">\\n\\n<$transclude tiddler=\\\"$:/core/ui/SideBarSegments/tabs\\\" mode=\\\"inline\\\"/>\\n\\n</$scrollable>\\n\"\n        },\n        \"$:/plugins/tiddlywiki/menubar/items/topleftbar\": {\n            \"title\": \"$:/plugins/tiddlywiki/menubar/items/topleftbar\",\n            \"tags\": \"$:/tags/MenuBar\",\n            \"description\": \"Items from $:/tags/TopLeftBar\",\n            \"caption\": \"Legacy Top Left Bar\",\n            \"custom-menu-content\": \"<$transclude tiddler=\\\"$:/plugins/tiddlywiki/menubar/items/topleftbar\\\" mode=\\\"inline\\\"/>\",\n            \"text\": \"<$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/TopLeftBar]!has[draft.of]]\\\" variable=\\\"listItem\\\" storyview=\\\"pop\\\">\\n\\n<$transclude tiddler=<<listItem>> mode=\\\"inline\\\"/>\\n\\n</$list>\"\n        },\n        \"$:/plugins/tiddlywiki/menubar/items/toprightbar\": {\n            \"title\": \"$:/plugins/tiddlywiki/menubar/items/toprightbar\",\n            \"tags\": \"$:/tags/MenuBar\",\n            \"description\": \"Items from $:/tags/TopRightBar\",\n            \"caption\": \"Legacy Top Right Bar\",\n            \"custom-menu-content\": \"<$transclude tiddler=\\\"$:/plugins/tiddlywiki/menubar/items/toprightbar\\\" mode=\\\"inline\\\"/>\",\n            \"custom-menu-styles-wide\": \"float: right;\",\n            \"text\": \"<$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/TopRightBar]!has[draft.of]reverse[]]\\\" variable=\\\"listItem\\\" storyview=\\\"pop\\\">\\n\\n<$transclude tiddler=<<listItem>> mode=\\\"inline\\\"/>\\n\\n</$list>\"\n        },\n        \"$:/plugins/tiddlywiki/menubar/menu\": {\n            \"title\": \"$:/plugins/tiddlywiki/menubar/menu\",\n            \"tags\": \"$:/tags/PageTemplate\",\n            \"text\": \"\\\\define menubar-inner(size)\\n<ul class=\\\"tc-menubar-list\\\">\\n<$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/MenuBar]!has[draft.of]] -[all[tiddlers+shadows]tag[$:/tags/TopLeftBar]limit[1]then[]else[$:/plugins/tiddlywiki/menubar/items/topleftbar]] -[all[tiddlers+shadows]tag[$:/tags/TopRightBar]limit[1]then[]else[$:/plugins/tiddlywiki/menubar/items/toprightbar]]\\\">\\n<$list filter=\\\"[<currentTiddler>addprefix[$:/config/plugins/menubar/MenuItems/Visibility/]get[text]] ~show +[match[show]]\\\" variable=\\\"ignore\\\">\\n<$list filter=\\\"[[$size$]match[wide]] ~[<currentTiddler>get[show-when]match[$size$]] ~[{$:/state/popup/menubar/hamburger}match[yes]]\\\" variable=\\\"ignore\\\">\\n<li style={{!!custom-menu-styles-$size$}} class={{{ [<currentTiddler>get[show-when]addprefix[tc-menubar-]] tc-menubar-item +[join[ ]] }}}>\\n<$list filter=\\\"[<currentTiddler>!is-dropdown[yes]]\\\" variable=\\\"listItem\\\" emptyMessage=\\\"\\\"\\\"\\n\\t<!-- Dropdown -->\\n\\t<$set name=\\\"dropdown-state\\\" value=<<qualify \\\"$:/state/popup/topmenu/dropdown/\\\">>>\\n\\t<$set name=\\\"dropdown-state\\\" value={{{ [<dropdown-state>addsuffix<currentTiddler>] }}}>\\n\\t<$button popup=<<dropdown-state>> selectedClass=\\\"tc-selected\\\">\\n\\t<$set name=\\\"tv-wikilinks\\\" value=\\\"no\\\">\\n\\t<$transclude field=\\\"caption\\\" mode=\\\"inline\\\"/>\\n\\t<$text text=\\\" \\\"/>\\n\\t<span class=\\\"tc-menubar-dropdown-arrow\\\">\\n\\t<$transclude tiddler=\\\"$:/core/images/down-arrow\\\" mode=\\\"inline\\\"/>\\n\\t</span>\\n\\t</$set>\\n\\t</$button>\\n\\t</$set>\\n\\t</$set>\\n\\\"\\\"\\\">\\n<$list filter=\\\"[<currentTiddler>has[custom-menu-content]]\\\" variable=\\\"listItem\\\" emptyMessage=\\\"\\\"\\\"\\n\\t<!-- Link -->\\n\\t<$link to={{!!target}}>\\n\\t<$set name=\\\"tv-wikilinks\\\" value=\\\"no\\\">\\n\\t<$transclude field=\\\"caption\\\" mode=\\\"inline\\\"/>\\n\\t</$set>\\n\\t</$link>\\n\\\"\\\"\\\">\\n<!-- Custom content -->\\n<$transclude field=\\\"custom-menu-content\\\" mode=\\\"inline\\\"/>\\n</$list>\\n</$list>\\n</li>\\n</$list>\\n</$list>\\n</$list>\\n</ul>\\n\\\\end\\n\\n<$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/MenuBar]!has[draft.of]] -[all[tiddlers+shadows]tag[$:/tags/TopLeftBar]limit[1]then[]else[$:/plugins/tiddlywiki/menubar/items/topleftbar]] -[all[tiddlers+shadows]tag[$:/tags/TopRightBar]limit[1]then[]else[$:/plugins/tiddlywiki/menubar/items/toprightbar]] +[limit[1]]\\\" variable=\\\"listItem\\\">\\n<nav class=\\\"tc-menubar tc-adjust-top-of-scroll\\\">\\n<div class=\\\"tc-menubar-narrow\\\">\\n<<menubar-inner narrow>>\\n</div>\\n<div class=\\\"tc-menubar-wide\\\">\\n<<menubar-inner wide>>\\n</div>\\n<div style=\\\"clear:both;\\\"/>\\n<$list filter=\\\"[all[shadows+tiddlers]tag[$:/tags/MenuBar]!has[draft.of]is-dropdown[yes]]\\\">\\n<$list filter=\\\"[<currentTiddler>addprefix[$:/config/plugins/menubar/MenuItems/Visibility/]get[text]] ~show +[match[show]]\\\" variable=\\\"ignore\\\">\\n<$set name=\\\"dropdown-state\\\" value=<<qualify \\\"$:/state/popup/topmenu/dropdown/\\\">>>\\n<$set name=\\\"dropdown-state\\\" value={{{ [<dropdown-state>addsuffix<currentTiddler>] }}}>\\n<$reveal type=\\\"popup\\\" state=<<dropdown-state>> position={{{ [<currentTiddler>get[dropdown-position]else[below]] }}} class={{{ [<currentTiddler>get[dropdown]get[class]] }}} tag=\\\"div\\\">\\n<div class=\\\"tc-drop-down\\\">\\n<$transclude/>\\n</div>\\n</$reveal>\\n</$set>\\n</$set>\\n</$list>\\n</$list>\\n</nav>\\n</$list>\\n\"\n        },\n        \"$:/core/ui/PageTemplate/topleftbar\": {\n            \"title\": \"$:/core/ui/PageTemplate/topleftbar\",\n            \"text\": \"<!-- The menubar plugin overrides this tiddler to remove the core top left menu. The menu items that it would include are instead included in the menubar -->\"\n        },\n        \"$:/core/ui/PageTemplate/toprightbar\": {\n            \"title\": \"$:/core/ui/PageTemplate/toprightbar\",\n            \"text\": \"<!-- The menubar plugin overrides this tiddler to remove the core top right menu. The menu items that it would include are instead included in the menubar -->\"\n        },\n        \"$:/plugins/tiddlywiki/menubar/readme\": {\n            \"title\": \"$:/plugins/tiddlywiki/menubar/readme\",\n            \"text\": \"!! Introduction\\n\\nThis plugin provides a menu bar with the following features:\\n\\n* Menu items take the form of simple text links, dropdowns, or entirely custom content\\n* Menu items can be individually enabled via the control panel\\n* Responds to reduced screen width by abbreviating the menu items to a \\\"hamburger\\\" dropdown\\n\\n!! Menu Item Tiddlers\\n\\nMenu items are tagged <<tag $:/tags/MenuBar>>. The following fields are used by this plugin:\\n\\n|!Field Name |!Purpose |\\n|title |Each menu item must have a unique title (not shown to the user) |\\n|description |Description for use in listings |\\n|tags |Must contain `$:/tags/MenuBar` |\\n|caption |The text that is displayed for the menu item. Avoid links, using `~` to suppress CamelCase links if required |\\n|target |For simple link menu items specifies a tiddler title as the target of the link |\\n|is-dropdown |Set to `yes` to indicate a dropdown menu item |\\n|dropdown-position |Optional position for the dropdown (can be ''left'', ''above'', ''aboveleft'', ''aboveright'', ''right'', ''belowleft'', ''belowright'' or ''below'') |\\n|text |For dropdown menu items, specifies the body of the dropdown |\\n|custom-menu-content |Optional wikitext to be displayed in place of the caption |\\n|custom-menu-styles-wide |Optional string of styles to be applied to menu item when the menubar is wide |\\n|custom-menu-styles-narrow |Optional string of styles to be applied to menu item when the menubar is narrow |\\n\\nCustom menu items should make sure that the clickable link or button is an immediate child, and not wrapped in another element.\\n\\nNote that menu items can be pushed to the right of the menu bar setting the ''custom-menu-styles'' field to `float: right;`.\\n\"\n        },\n        \"$:/plugins/tiddlywiki/menubar/styles\": {\n            \"title\": \"$:/plugins/tiddlywiki/menubar/styles\",\n            \"tags\": \"[[$:/tags/Stylesheet]]\",\n            \"text\": \"\\\\define breakpoint-plus-one()\\n<$text text={{{ [{$:/config/plugins/menubar/breakpoint}removesuffix[px]add[1]addsuffix[px]] ~[{$:/config/plugins/menubar/breakpoint}] }}} />\\n\\\\end\\n\\n\\\\define sidebarbreakpoint-minus-one()\\n<$text text={{{ [{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}removesuffix[px]subtract[1]addsuffix[px]] ~[{$:/themes/tiddlywiki/vanilla/metrics/sidebarbreakpoint}] }}} />\\n\\\\end\\n\\n\\\\define set-sidebar-scrollable-top-if-hamburger()\\n<$list filter=\\\"[all[tiddlers+shadows]tag[$:/tags/MenuBar]] -[all[tiddlers+shadows]prefix[$:/config/plugins/menubar/MenuItems/Visibility/]regexp:text[hide]removeprefix[$:/config/plugins/menubar/MenuItems/Visibility/]] -[all[tiddlers+shadows]tag[$:/tags/TopLeftBar]limit[1]then[]else[$:/plugins/tiddlywiki/menubar/items/topleftbar]] -[all[tiddlers+shadows]tag[$:/tags/TopRightBar]limit[1]then[$:/plugins/tiddlywiki/menubar/items/toprightbar]] -$:/plugins/tiddlywiki/menubar/items/hamburger +[limit[1]]\\\">\\n\\n\\t.tc-sidebar-scrollable {\\n\\t\\tmargin-top: 2em;\\n\\t}\\n\\n</$list>\\n\\\\end\\n\\n\\\\define set-sidebar-scrollable-top()\\n<$list filter=\\\"[all[tiddlers+shadows]tag[$:/tags/MenuBar]] -[all[tiddlers+shadows]prefix[$:/config/plugins/menubar/MenuItems/Visibility/]regexp:text[hide]removeprefix[$:/config/plugins/menubar/MenuItems/Visibility/]] -[all[tiddlers+shadows]tag[$:/tags/TopLeftBar]limit[1]then[]else[$:/plugins/tiddlywiki/menubar/items/topleftbar]] -[all[tiddlers+shadows]tag[$:/tags/TopRightBar]limit[1]then[$:/plugins/tiddlywiki/menubar/items/toprightbar]] +[limit[1]]\\\">\\n\\n\\t.tc-sidebar-scrollable {\\n\\t\\tmargin-top: 2em;\\n\\t}\\n\\n</$list>\\n<$reveal state=\\\"$:/state/popup/menubar/hamburger\\\" type=\\\"match\\\" text=\\\"yes\\\">\\n\\n\\t<$set name=\\\"itemCount\\\" value={{{ [all[tiddlers+shadows]tag[$:/tags/MenuBar]] -[all[tiddlers+shadows]prefix[$:/config/plugins/menubar/MenuItems/Visibility/]regexp:text[hide]removeprefix[$:/config/plugins/menubar/MenuItems/Visibility/]] -[all[tiddlers+shadows]tag[$:/tags/TopLeftBar]limit[1]then[]else[$:/plugins/tiddlywiki/menubar/items/topleftbar]] -[all[tiddlers+shadows]tag[$:/tags/TopRightBar]limit[1]then[]else[$:/plugins/tiddlywiki/menubar/items/toprightbar]] +[count[]] }}}>\\n\\n\\t\\t.tc-sidebar-scrollable {\\n\\t\\t\\tmargin-top: calc(<<itemCount>> * 2em);\\n\\t\\t}\\n\\n\\t</$set>\\n\\n</$reveal>\\n\\\\end\\n\\n\\\\rules only filteredtranscludeinline transcludeinline macrodef macrocallinline\\n\\nnav.tc-menubar {\\n\\tposition: fixed;\\n\\tz-index: 850;\\n\\tdisplay: inline-block;\\n\\ttop: 0;\\n\\tright: 0;\\n\\tleft: 0;\\n}\\n\\nnav.tc-menubar ul.tc-menubar-list {\\n\\tposition: relative;\\n\\tlist-style-type: none;\\n\\tmargin: 0;\\n\\tpadding: 0 0 0 42px;\\n\\tbackground: <<colour background>>;\\n\\tbackground: <<colour menubar-background>>;\\n\\t<<box-shadow \\\"1px 1px 5px rgba(0, 0, 0, 0.3)\\\">>\\n}\\n\\n@media (max-width: <<sidebarbreakpoint-minus-one>>) {\\n\\n\\thtml nav.tc-menubar ul.tc-menubar-list {\\n\\t\\tpadding: 0 0 0 8px;\\n\\t}\\n\\n}\\n\\nnav.tc-menubar li.tc-menubar-item {\\n\\tdisplay: inline-block;\\n\\tmargin: 0;\\n\\tpadding: 0;\\n}\\n\\nnav.tc-menubar .tc-menubar-narrow li.tc-menubar-item {\\n\\tdisplay: block;\\n}\\n\\nnav.tc-menubar li.tc-menubar-item > a,\\nnav.tc-menubar li.tc-menubar-item > button {\\n\\tdisplay: inline-block;\\n/*\\ttext-transform: uppercase; */\\n\\tline-height: 1;\\n\\tfont-weight: 700;\\n\\tcolor: <<colour foreground>>;\\n\\tcolor: <<colour menubar-foreground>>;\\n\\tfill: <<colour foreground>>;\\n\\tfill: <<colour menubar-foreground>>;\\n\\ttext-decoration: none;\\n\\tpadding: 0.5em;\\n\\tmargin: 0;\\n\\tbackground: none;\\n\\tborder: none;\\n\\tcursor: pointer;\\n\\tborder-radius: 0;\\n\\ttext-decoration: none;\\n}\\n\\nnav.tc-menubar li.tc-menubar-item > a.tc-selected,\\nnav.tc-menubar li.tc-menubar-item > button.tc-selected {\\n\\tbackground: <<colour foreground>>;\\n\\tbackground: <<colour menubar-foreground>>;\\n\\tcolor: <<colour background>>;\\n\\tcolor: <<colour menubar-background>>;\\n\\tfill: <<colour background>>;\\n\\tfill: <<colour menubar-background>>;\\n}\\n\\nnav.tc-menubar li.tc-menubar-item svg {\\n\\ttransition: none;\\n\\twidth: 1em;\\n\\theight: 1em;\\n\\tfill: <<colour foreground>>;\\n\\tfill: <<colour menubar-foreground>>;\\n}\\n\\nnav.tc-menubar li.tc-menubar-item .tc-menubar-dropdown-arrow svg {\\n\\twidth: 0.5em;\\n\\theight: 0.5em;\\n}\\n\\nnav.tc-menubar li.tc-menubar-item > a.tc-selected svg,\\nnav.tc-menubar li.tc-menubar-item > button.tc-selected svg {\\n\\tfill: <<colour background>>;\\n\\tfill: <<colour menubar-background>>;\\n}\\n\\nnav.tc-menubar li.tc-menubar-item > a:hover,\\nnav.tc-menubar li.tc-menubar-item > button:hover svg,\\nnav.tc-menubar li.tc-menubar-item > button:hover {\\n\\tbackground: <<colour foreground>>;\\n\\tbackground: <<colour menubar-foreground>>;\\n\\tcolor: <<colour background>>;\\n\\tcolor: <<colour menubar-background>>;\\n\\tfill: <<colour background>>;\\n\\tfill: <<colour menubar-background>>;\\n\\tborder-radius: 0;\\n\\ttext-decoration: none;\\n}\\n\\nnav.tc-menubar li.tc-menubar-item > a:active,\\nnav.tc-menubar li.tc-menubar-item > button:active svg,\\nnav.tc-menubar li.tc-menubar-item > button:active {\\n\\tbackground: <<colour foreground>>;\\n\\tbackground: <<colour menubar-foreground>>;\\n\\tcolor: <<colour background>>;\\n\\tcolor: <<colour menubar-background>>;\\n\\tfill: <<colour background>>;\\n\\tfill: <<colour menubar-background>>;\\n\\tborder-radius: 0;\\n\\ttext-decoration: none;\\n}\\n\\nnav.tc-menubar .tc-drop-down,\\nnav.tc-menubar .tc-block-dropdown {\\n\\tmax-width: 70vw;\\n\\tmax-height: 70vh;\\n\\toverflow: auto;\\n}\\n\\nnav.tc-menubar .tc-drop-down a {\\n\\ttext-decoration: none;\\n}\\n\\nnav.tc-menubar .tc-drop-down .tc-table-of-contents button {\\n\\tdisplay: inline-block;\\n\\twidth: auto;\\n}\\n\\nnav.tc-menubar .tc-drop-down ol {\\n\\tmargin: 0;\\n}\\n\\nnav.tc-menubar .tc-drop-down .tc-menubar-dropdown-sidebar a,\\nnav.tc-menubar .tc-drop-down .tc-menubar-dropdown-sidebar button {\\n\\tdisplay: inline;\\n\\twidth: auto;\\n}\\n\\nnav.tc-menubar .tc-more-sidebar > .tc-tab-set > .tc-tab-buttons > button {\\n\\tdisplay: block;\\n\\twidth: 100%;\\n}\\n\\n@media (max-width: {{$:/config/plugins/menubar/breakpoint}}) {\\n\\n\\t.tc-menubar-wide {\\n\\t\\tdisplay: none;\\n\\t}\\n\\n}\\n\\n@media (min-width: <<breakpoint-plus-one>>) {\\n\\n\\tnav.tc-menubar li.tc-menubar-item.tc-menubar-narrow,\\n\\t.tc-menubar-narrow {\\n\\t\\tdisplay: none;\\n\\t}\\n\\n}\\n\\n@media (max-width: <<sidebarbreakpoint-minus-one>>) {\\n\\n\\t<<set-sidebar-scrollable-top-if-hamburger>>\\n\\n}\\n\\n@media (max-width: {{$:/config/plugins/menubar/breakpoint}}) {\\n\\n\\t<<set-sidebar-scrollable-top>>\\n\\n}\\n@media print {\\n\\n\\tnav.tc-menubar {\\n\\t\\tdisplay: none;\\n\\t}\\n\\n}\\n\"\n        },\n        \"$:/tags/MenuBar\": {\n            \"title\": \"$:/tags/MenuBar\",\n            \"list\": \"$:/plugins/tiddlywiki/menubar/items/hamburger $:/plugins/tiddlywiki/menubar/items/topleftbar $:/plugins/tiddlywiki/menubar/items/contents $:/plugins/tiddlywiki/menubar/items/search $:/plugins/tiddlywiki/menubar/items/pagecontrols $:/plugins/tiddlywiki/menubar/items/server $:/plugins/tiddlywiki/menubar/items/toprightbar\"\n        }\n    }\n}"}